<div class="content">
  <!-- Barra de status da busca -->
  @if (searchQuery) {
    <div class="search-status">
      <p>Resultados da busca por: "{{ searchQuery }}"</p>
      <button class="clear-search" (click)="clearSearch()">
        <span class="material-symbols-outlined">close</span>
        Limpar busca
      </button>
    </div>
  }

  <!-- Lista de Produtos -->
  <div class="products-container">
    <!-- Mensagem quando não há produtos -->
    @if (!filteredProducts.length) {
      <div class="no-products">
        <p>Nenhum produto encontrado.</p>
        @if (searchQuery) {
          <button mat-button (click)="clearSearch()">Limpar busca</button>
        }
      </div>
    }

    <!-- Grid de Produtos -->
    <div class="products-grid">
      @for (product of filteredProducts; track product.id) {
        <mat-card class="product-card">
          <img mat-card-image [src]="product.image" [alt]="product.name">
          <mat-card-content>
            <h3>{{ product.name }}</h3>
            <p class="description">{{ product.description }}</p>
            <p class="categories">
              @for (category of product.categories; track category) {
                <span class="category-tag">{{ category }}</span>
              }
            </p>
            <p class="price">R$ {{ formatPrice(product.price) }}</p>
          </mat-card-content>
          <mat-card-actions>
            <button mat-button color="primary" (click)="addToCart(product)">
              <span class="material-symbols-outlined">add_shopping_cart</span>
              Adicionar ao Carrinho
            </button>
          </mat-card-actions>
        </mat-card>
      }
    </div>
  </div>
</div>

<!-- Botão Voltar ao Topo -->
@if (showScrollButton) {
  <button class="scroll-to-top" (click)="scrollToTop()">
    <span class="material-symbols-outlined">arrow_upward</span>
  </button>
}
